<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecos</title>
    <link rel="shortcut icon" href="img/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body class="body">
    <ul class="transition">
        <li id="transition1"></li>
        <li id="transition2"></li>
        <li id="transition3"></li>
        <li id="transition4"></li>
        <li id="transition5"></li>
    </ul>
    <div id="pointer" class="pointer-area">
        <div id="content-pointer" class="pointer"></div>
    </div>
    <div class="nav container">
        <h1>Ecos</h1>
        <div class="nav-link">
            <p id="nav-link1">Beranda</a>
            <p id="nav-link2">Tentang Kami</a>
            <p id="nav-link3">Kegiatan</a>
            <p id="nav-link4">Galery</a>
        </div>
    </div>
    <div id="nav-btn" class="column">
        <div class="nav-bar" id="nav-bar1"></div>
        <div class="nav-bar" id="nav-bar2"></div>
    </div>
    <div class="nav-menu column" id="nav-menu">
        <div class="container nav-close" style="padding: 0px 10%; justify-content: end;">
            <img src="img/close.png" alt="" id="nav-close">
        </div>
        <p class="text" id="navlink1">Beranda</a>
        <p class="text" id="navlink2">Tentang Kami</a>
        <p class="text" id="navlink3">Kegiatan</a>
        <p class="text" id="navlink4">Galery</a>
    </div>
    <div class="home container column" id="beranda">
      <video class="videohome" src="img/aboutEcos.webm" autoplay loop muted></video>
  </div>
    <div class="about-ecos container column p-ats">
      <img src="img/about1.jpg" alt="">
      <div class="text-about-ecos">
        <h1>Kami Ecos</h1>
        <p>Ecos Merupakan Komunitas Pecinta Alam, Ecos Berdiri Sejak 2010 di Bali, Ecos Memiliki Tujuan Melestarikan Ekosistem, Ecos Memiliki Ribuan Anggota yang Membantu Melestarikan Lingkungan.</p>
      </div>
    </div>
    <div class="counter-up-area container p-ats">
      <img src="img/about2.jpg" alt="">
      <div class="text-counter column">
        <div class="column">
          <span><span class="counter counter1">40</span> <span class="counter">K</span></span>
          <p>Relawan</p>
        </div>
        <div class="column">
          <span class="counter counter2">13</span>
          <p>Tahun</p>
        </div>
        <div class="column">
          <span class="counter counter3">80</span>
          <p>Negara</p>
        </div>
        <div class="column">
          <span> <span class="counter counter4">8</span> <span class="counter">K</span></span>
          <p>Kegiatan</p>
        </div>
      </div>
    </div>
    <div class="kegiatan container column p-ats" id="kegiatan">
        <h1>Kegiatan</h1>
        <div class="area-kegiatan container">
            <a href="" class="box-kegiatan pointer-hover">
                <img src="img/kegiatan1.jpg" alt="" class="img-kegiatan">
                <p>memberi Makan Hewan</p>
            </a>
            <a href="" class="box-kegiatan pointer-hover">
                <img src="img/kegiatan3.jpg" alt="" class="img-kegiatan">
                <p>Menanam Pohon</p>
            </a>
            <a href="" class="box-kegiatan pointer-hover">
                <img src="img/kegiatan2.jpg" alt="" class="img-kegiatan">
                <p>Membersihkan Hutan</p>
            </a>
            <a href="" class="box-kegiatan pointer-hover">
                <img src="img/kegiatan4.jpg" alt="" class="img-kegiatan">
                <p>Menanam Pohon</p>
            </a>
            <a href="" class="box-kegiatan pointer-hover">
                <img src="img/kegiatan1.jpg" alt="" class="img-kegiatan">
                <p>memberi Makan Hewan</p>
            </a>
        </div>
    </div>
    <div class="swiper swiper-container" id="galery">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <img src="img/kegiatan1.jpg">
          </div>
          <div class="swiper-slide">
            <img src="img/kegiatan2.jpg">
          </div>
          <div class="swiper-slide">
            <img src="img/kegiatan3.jpg">
          </div>
          <div class="swiper-slide">
            <img src="img/kegiatan4.jpg">
          </div>
          <div class="swiper-slide">
            <img src="img/kegiatan5.jpg">
          </div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
      </div>
    
            <div class="footer container column">
                <div class="area-footer container">
                    <div class="footer-1 column">
                        <div style="display: flex; align-items: center;">
                            <img src="img/logo.png" alt="">
                            <h1>Ecos</h1>
                        </div>
                        <h2>Langkah kecil Memberi Perubahan Yang Besar</h2>
                        <div class="sosial-media">
                            <a href=""><img src="img/instagram.png" alt=""></a>
                            <a href=""><img src="img/facebook.png" alt=""></a>
                            <a href=""><img src="img/twitter.png" alt=""></a>
                            <a href=""><img src="img/youtube.png" alt=""></a>
                        </div>
                    </div>
                    <div class="footer-2">
                        <div style="margin: 0px 40px 20px 0px;" class="column">
                            <p>KOMUNITAS</p>
                            <a href="">GALERY</a>
                            <a href="">KARIR</a>
                            <a href="">KEGIATAN</a>
                        </div>
                        <div>
                            <div class="column">
                                <p>EMAIL</p>
                                <a href="">hello@ecos.com</a>
                            </div>
                            <div class="column">
                                <p>PHONE</p>
                                <a href="">+62 (021) 9928 9302</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="garis"></div>
                <div style="color: #fff; font-size: 13px;">&copy; 2023 ECOS Inc. All Right Severved</div>
            </div>
      
    
        <script src="jquery-3.5.1.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
        <script src="ScrollTrigger.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scrollbar/8.8.3/smooth-scrollbar.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scrollbar/8.8.3/plugins/overscroll.min.js"></script>
        <script src="main.js"></script>
    
        <script>
            var swiper = new Swiper(".swiper-container", {
      effect: "coverflow",
      loop: true,
      grabCursor: true,
      slidesPerView: "auto",
      autoplay: {
            delay: 3000,
            disableOnInteraction: true
          },
      centeredSlides: true,
      navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
        coverflowEffect: {
            rotate: 0,
            stretch: 10,
            depth: 300,
            modifier: 2,
            slideShadows: false,
      },
      pagination: {
        el: ".swiper-pagination",
      },
    });
    
    document.querySelector(".swiper-button-next").addEventListener("click", function () {
      swiper.slideNext();
    });
    
    document.querySelector(".swiper-button-prev").addEventListener("click", function () {
      swiper.slidePrev();
    });

    var navlink1 = document.getElementById("nav-link1");
    var navlink2 = document.getElementById("nav-link2");
    var navlink3 = document.getElementById("nav-link3");
    var navlink4 = document.getElementById("nav-link4");
    var navlink11 = document.getElementById("navlink1");
    var navlink12 = document.getElementById("navlink2");
    var navlink13 = document.getElementById("navlink3");
    var navlink14 = document.getElementById("navlink4");
    
  navlink1.addEventListener("click", ()=>{
  animkeluar();
  setTimeout(() =>{
    window.location.href = "index.html#beranda";
  }, 1500);
});

navlink2.addEventListener("click", ()=>{
  setTimeout(() =>{
    window.location.href = "about.html#about";
  }, 100);
});

navlink3.addEventListener("click", ()=>{
  animkeluar();
  setTimeout(() =>{
    window.location.href = "index.html#kegiatan";
  }, 1500);
});

navlink4.addEventListener("click", ()=>{
  animkeluar();
  setTimeout(() =>{
    window.location.href = "index.html#galery";
  }, 1500);
});

navlink12.addEventListener("click", ()=>{
  navmenu.classList.remove("nav-open");
  setTimeout(() =>{
    window.location.href = "about.html";
  }, 100);
});

navlink13.addEventListener("click", ()=>{
  navmenu.classList.remove("nav-open");
  animkeluar();
  setTimeout(() =>{
    window.location.href = "index.html#kegiatan";
  }, 1500);
});

navlink14.addEventListener("click", ()=>{
  navmenu.classList.remove("nav-open");
  animkeluar();
  setTimeout(() =>{
    window.location.href = "index.html#galery";
  }, 1500);
});

navlink11.addEventListener("click", ()=>{
  navmenu.classList.remove("nav-open");
  animkeluar();
  setTimeout(() =>{
    window.location.href = "index.html#beranda";
  }, 1500);
});

const animationvideo = gsap.to(".videohome", {
    duration: 3,
    width: "70%",
    ease: "power4.out",
  });

  ScrollTrigger.create({
    trigger: ".videohome",
    toggleActions: "restart none reverse none",
    start: "120% bottom",
    scrub: true,
    animation: animationvideo,
  });
  const animationbg= gsap.to(".body", {
    duration: 3,
    backgroundColor: "#090909",
    ease: "power4.out",
  });

  ScrollTrigger.create({
    trigger: ".videohome",
    toggleActions: "restart none reverse none",
    start: "130% bottom",
    end: "120% top",
    scrub: true,
    animation: animationbg,
  });

  const animationbg2 = gsap.to(".body", {
  duration: 3,
  backgroundColor: "#fff",
  ease: "power4.out",
});

const animationtext1 = gsap.to(".counter", {
  duration: 3,
  color: "#005501",
  ease: "power4.out",
});

ScrollTrigger.create({
  trigger: ".kegiatan",
  toggleActions: "reverse none reverse none",
  start: "90% bottom",
  end: "0% top",
  scrub: true,
  animation: animationbg2,
  onLeaveBack: () => {
    gsap.to(".body", {
      duration: 1,
      backgroundColor: "#090909",
      ease: "power4.out",
    });
  },
});

ScrollTrigger.create({
  trigger: ".kegiatan",
  toggleActions: "reverse none reverse none",
  start: "90% bottom",
  end: "0% top",
  scrub: true,
  animation: animationtext1,
  onLeaveBack: () => {
    gsap.to(".body", {
      duration: 1,
      backgroundColor: "#fff",
      ease: "power4.out",
    });
  },
});

  const observer = new IntersectionObserver((entries, observer) => {
  entries.forEach((entry) => {
    if (entry.isIntersecting) {
    $({ Counter: 0 }).animate({
    Counter: $('.counter1').text()}, {
    duration: 2000,
    easing: 'swing',
    step: function() {
    $('.counter1').text(Math.ceil(this.Counter));
    }
    });
    $({ Counter: 0 }).animate({
    Counter: $('.counter2').text()}, {
    duration: 2000,
    easing: 'swing',
    step: function() {
    $('.counter2').text(Math.ceil(this.Counter));
    }
    });
    $({ Counter: 0 }).animate({
    Counter: $('.counter3').text()}, {
    duration: 2000,
    easing: 'swing',
    step: function() {
    $('.counter3').text(Math.ceil(this.Counter));
    }
    });
    $({ Counter: 0 }).animate({
    Counter: $('.counter4').text()}, {
    duration: 2000,
    easing: 'swing',
    step: function() {
    $('.counter4').text(Math.ceil(this.Counter));
    }
    });

      // Berhenti memantau elemen
      observer.unobserve(entry.target);
    }
  });
},{
  threshold : 0.3,
});

// Menambahkan elemen yang akan dipantau
const elementToObserve = document.querySelector('.text-counter');
observer.observe(elementToObserve);
</script>
</body>
</html>